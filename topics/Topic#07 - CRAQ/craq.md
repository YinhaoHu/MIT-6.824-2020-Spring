# Chain Replication with Apportioned Queries

---

## 总结

CRAQ是一种保证强一致性的同时能够提供高扩展性和高性能的方法。在CR中，一条链由若干个节点组成。所有的写请求由头节点处理，由头节点将更新传递至后继节点，如此重复直至达到尾节点才提交该更新。所有的读请求由尾节点处理。

CRAQ是基于CR的优化方法，通过允许所有节点支持处理读请求来提高系统的读吞吐量。其用于保证强一致性的额外措施是为每一个对象增添一个状态信息。如果该对象的更新未被提交，那么该事务的状态为dirty，反之为clean。当节点处理一个客户端的读脏对象请求时，向尾节点询问最新版本，如果尾节点已经提交了，那么就返回对象给客户。否则，返回前一个版本的对象。




